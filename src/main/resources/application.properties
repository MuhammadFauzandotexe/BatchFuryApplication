##############################
# General Application Config #
##############################
spring.application.name=BatchFury
spring.main.web-application-type=none

##################################
# Primary DataSource (Metadata) #
# Schema: public (default batch) #
##################################
spring.datasource.jdbc-url=jdbc:postgresql://localhost:5432/postgres?currentSchema=public
spring.datasource.username=postgres
spring.datasource.password=1
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP Configuration
spring.datasource.hikari.maximum-pool-size=30
spring.datasource.hikari.minimum-idle=10

# JPA Settings (if used globally)
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy
spring.jpa.show-sql=true

###########################################
# Spring Batch Metadata & Job Management #
###########################################
spring.batch.initialize-schema=none
spring.batch.job.enabled=true
spring.batch.job.launcher.enabled=true

##############################
# Local DataSource (DB A)   #
# Schema: remote            #
##############################
datasource.local.jdbc-url=jdbc:postgresql://localhost:5432/postgres?currentSchema=local
datasource.local.username=postgres
datasource.local.password=1
datasource.local.driver-class-name=org.postgresql.Driver

##############################
# Remote DataSource (DB B)  #
# Schema: local             #
##############################
datasource.remote.jdbc-url=jdbc:postgresql://localhost:5432/postgres?currentSchema=remote
datasource.remote.username=postgres
datasource.remote.password=1
datasource.remote.driver-class-name=org.postgresql.Driver

##############################
# Batch Performance Tuning  #
##############################
batch.chunk-size=500
batch.thread-pool.core-size=8
batch.thread-pool.max-size=16
batch.thread-pool.queue-capacity=1000
batch.skip-limit=100
batch.retry-limit=3

##############################
# Logging Configuration     #
##############################
logging.level.com.mdro.BatchFury=INFO
logging.level.com.mdro.BatchFury.reader.TransactionRowMapper=DEBUG
logging.level.com.mdro.BatchFury.processor.TransactionProcessor=DEBUG
logging.level.com.mdro.BatchFury.config=DEBUG
logging.level.org.springframework.batch=DEBUG
# logging.level.org.springframework.jdbc.core=DEBUG

# Logging Output
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/batch-application.log
