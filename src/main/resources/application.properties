# Application Properties
spring.application.name=BatchFury

# PRIMARY DataSource (untuk batch metadata)
spring.datasource.jdbcUrl=jdbc:postgresql://localhost:5432/postgres?currentSchema=public
spring.datasource.username=postgres
spring.datasource.password=1
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.hikari.maximum-pool-size=30
spring.datasource.hikari.minimum-idle=10

# LOCAL DataSource (DB A)
datasource.local.jdbcUrl=jdbc:postgresql://localhost:5432/postgres?currentSchema=remote
datasource.local.username=postgres
datasource.local.password=1
datasource.local.driver-class-name=org.postgresql.Driver

# REMOTE DataSource (DB B)
datasource.remote.jdbcUrl=jdbc:postgresql://localhost:5432/postgres?currentSchema=local
datasource.remote.username=postgres
datasource.remote.password=1
datasource.remote.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy
spring.jpa.show-sql=true

# Spring Batch will use this for metadata storage
spring.batch.initialize-schema=always
spring.batch.initialize-default-job=enabled
spring.batch.job.enabled=true

# Spring Main Application Type (for standalone)
spring.main.web-application-type=none

# Batch-specific configurations
batch.chunk-size=500
batch.thread-pool.core-size=8
batch.thread-pool.max-size=16
batch.thread-pool.queue-capacity=1000
batch.skip-limit=100
batch.retry-limit=3

# Logging Configuration
logging.level.com.example.batch=INFO
logging.level.com.example.batch.reader.TransactionRowMapper=DEBUG
logging.level.com.example.batch.processor.TransactionProcessor=DEBUG
logging.level.com.example.batch.config.BatchConfiguration=DEBUG
logging.level.org.springframework.batch=INFO
#logging.level.org.springframework.jdbc.core=DEBUG

logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/batch-application.log